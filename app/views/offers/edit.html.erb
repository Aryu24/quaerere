<div class="container">

	<% if @offer.errors.any? %>
		<div class="row">
			<div class="col-md-8 mx-auto">
				<div id="error_explanation" class="alert alert-danger">
					<ul>
						<% @offer.errors.full_messages.each do |message| %>
				 			<li><%= message %></li>
						<% end %>
					</ul>
				</div>
			</div>
		</div>
	<% end %>

	<div class="row">
		<div class="col-md-8 mx-auto">
			<div class="offer_detail offer-new">
				<h3 class="text-center">オファーを編集する</h3>
				<%= form_for @offer do |f| %>
					<div class="off-detail">
						<div class="off-list">
							<span>オファータイトル</span><br>
							<%= f.text_field :title, autofocus: true, placeholder: "オファータイトルを入力", required: :true, class: "form-control" %>
						</div>
						<div class="off-list">
							画像
							<div class="text-center">
								<%= attachment_image_tag @offer, :image, :fill, 300, 300, format:'jpeg', fallback: "no_image.jpg", size: '300x300' %>
							</div>
							<div class="text-center">
								<%= f.attachment_field :image %>
							</div>
						</div>
						<div class="off-list">
							<span>オファー価格</span><br>
							<%= f.number_field :price, autofocus: true, placeholder: "価格を入力", required: :true, class: "form-control" %>
						</div>
						<div class="off-list">
							<span>状態</span><br>
							<%= f.select :condition, Offer.conditions.keys, autofocus: true, :prompt => "選択してください", required: :true, class: "form-control" %><br>
						</div>
						<div class="off-list">
							<span>オファー内容の説明</span><br>
							<%= f.text_area :comment, autofocus: true, placeholder: "説明文を入力", required: :true, class: "form-control" %>
						</div>
						<div class="off-list">
							<span>公開する範囲</span><br>
							<%= f.select :public_status, Offer.public_statuses.keys, autofocus: true, :prompt => "選択してください", required: :true, class: "form-control" %><br>
						</div>
					</div>
					<div class="text-center middle-btn">
						<%= f.submit "変更する", class: "btn btn-success" %>
					</div>
					<div class="text-right">
						<%= link_to offer_path(@offer), method: :delete, data: {confirm: "本当に削除しますか？"}, class: "btn btn-danger" do %>
							<i class="far fa-trash-alt">このオファーを削除</i>
						<% end %>
					</div>
				<% end %>
			</div>
		</div>
	</div>
</div>